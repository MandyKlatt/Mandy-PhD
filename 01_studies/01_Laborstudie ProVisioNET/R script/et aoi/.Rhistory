<<<<<<< HEAD
<<<<<<< HEAD
<<<<<<< Updated upstream
y = main$nd[main$id == "Novice"])
=======
=======
>>>>>>> parent of 8821409 (main datei angepasst)
#     "Expert\n",
#     ";",
#     glue("<i>SD</i>"),
#     " = ",
#     c(sd_number_nov, sd_number_exp)
#   )
# )) +
labs(x ="",
y = "Number") +
scale_fill_brewer(palette  = "RdBu") +
ggtitle("Number of Fixations on all AOIs") +
theme_cowplot() +
theme(legend.position="none",
axis.text.x = element_text(size = 34),
axis.text.y = element_text(size = 18),
axis.title = element_text(size = 34),
plot.title = element_text(size = 35,
face = "bold")
) -> plot_number_group
plot_number_group
# saving plot number plot
ggsave(plot = plot_number_group,
filename = "plots/plot_number_group.svg",
height = 8,
width = 14,
units = "in")
# NUMBER OF FIXATIONS on all AOIs
# t-test for expertise differences
t.test(x = df_aoi_sum$Sum_number_fixation[df_aoi_sum$Group == "Expert"],
y = df_aoi_sum$Sum_number_fixation[df_aoi_sum$Group == "Novice"])
# NUMBER OF FIXATIONS on all AOIs
<<<<<<< HEAD
>>>>>>> parent of 8821409 (main datei angepasst)
=======
>>>>>>> parent of 8821409 (main datei angepasst)
# effect size for expertise differences
d_number_all <- CohenD(x = df_aoi_sum$Sum_number_fixation[df_aoi_sum$Group == "Expert"],
y = df_aoi_sum$Sum_number_fixation[df_aoi_sum$Group == "Novice"],
na.rm = TRUE)
##################### NUMBER OF FIXATIONS ON AOI STUDENTS ########################
# filter group & total duration & number fixation on AOI Students
df_aoi %>%
filter(TOI == "Lesson") %>%
select (Group,
"Total_duration_of_fixations.Anna",
"Total_duration_of_fixations.Bianca",
"Total_duration_of_fixations.Carl(a)",
"Number_of_fixations.Anna",
"Number_of_fixations.Bianca",
"Number_of_fixations.Carl(a)") %>%
rowwise() %>%
transmute(Group = Group,
Stud_duration_fixation = sum(c_across(starts_with("Total_duration")
),
na.rm = TRUE
),
Stud_number_fixation = sum(c_across(starts_with("Number_of")
),
na.rm = TRUE
)
) %>%
<<<<<<< HEAD
<<<<<<< HEAD
na.omit() %>%
rename("id" = "UI06_05",
"sjt" = "SJT_KF_gek")
=======
df_aoi_totaldur <- df_aoi %>%
select(Group,
TOI,
starts_with("Total_duration_of_fixations"))
# changing format from wide to long
df_aoi_totaldur <- df_aoi_totaldur %>% pivot_longer(
cols = contains("Total_duration"),
names_to = "Total_Durations_Of_Fixations",
values_to = "Milliseconds")
# remove all NAs
df_aoi_totaldur <- na.omit(df_aoi_totaldur)
# changing milliseconds into seconds
df_aoi_totaldur$Seconds <- round(df_aoi_totaldur$Milliseconds/1000,
digits = 2)
# rename values
df_aoi_totaldur <- df_aoi_totaldur %>%
mutate(Total_Durations_Of_Fixations = recode(Total_Durations_Of_Fixations,
Total_duration_of_fixations.Anna = 'StudentA',
Total_duration_of_fixations.Bianca = 'StudentB',
Total_duration_of_fixations.Board_Screen = 'Board_Screen',
`Total_duration_of_fixations.Carl(a)` = 'StudentC',
Total_duration_of_fixations.Classroom_Others = 'Classroom_Others',
Total_duration_of_fixations.Disruptive_Person = 'Disruptive_Person',
Total_duration_of_fixations.Material_Students = 'Material_Students',
Total_duration_of_fixations.Material_Teacher = 'Material_Teacher',
Total_duration_of_fixations.Nametag_Anna = 'NametagA',
Total_duration_of_fixations.Nametag_Bianca = 'NametagB',
`Total_duration_of_fixations.Nametag_Carl(a)` = 'NametagC'))
# plotting total duration of fixations for groups
totaldur_group_plot <-
ggplot(data = df_aoi_totaldur,
mapping = aes(x = Group,
y = Seconds)) +
geom_boxplot(mapping = aes(fill = Group)) +
geom_point(size = 2,
alpha = 0.1,
position = position_jitter(seed = 1,
width = 0.1)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
ggtitle("Total Duration of Fixations in AOIs") +
theme_classic() +
theme(legend.position="none",
axis.text.x = element_text(size = 11),
plot.title = element_text(size = 15, face = "bold"))
totaldur_group_plot
# plotting total duration of fixations for all disruptions
totaldur_plot <-
df_aoi_totaldur %>%
# mutate(Total_durations_of_Fixations = factor(Total_durations_of_Fixations,
#                                              levels = unique(.$Total_durations_of_Fixations),
#                                              labels = c("StudentA",
#                                                         "StudentB",
#                                                         "StudentC",
#                                                         "Disruptive_Person",
#                                                         "Nametag_B",
#                                                         "Board_Screen",
#                                                         "Classroom_Others",
#                                                         "Matieral_Teacher",
#                                                         "Nametag_A",
#                                                         "Nametag_C",
#                                                         "Material_Students"))) %>%
ggplot(data = df_aoi_totaldur,
mapping = aes(x = Group,
y = Seconds)) +
# geom_violin(mapping = aes(fill = Group)) +
geom_boxplot(mapping = aes(fill = Group)) +
geom_point(size = 1,
alpha = 0.1,
position = position_jitter(seed = 1,
width = 0.1)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
facet_wrap(vars(Total_Durations_Of_Fixations),
nrow = 1, strip.position = "bottom") +
ggtitle("Total Duration of Fixations in AOIs") +
theme_classic() +
theme(
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
strip.text.x = element_text(size = 6,
angle = 90),
plot.title = element_text(size = 15, face = "bold"))
totaldur_plot
########################### NUMBER OF FIXATIONS IN AOIS ######################
# selecting relevant columns
df_aoi_number <- df_aoi %>%
select(Group,
TOI,
starts_with("Number_of_fixations"))
# changing format from wide to long
df_aoi_number <- df_aoi_number %>% pivot_longer(
cols = contains("Number_of_fixations"),
names_to = "Number_Of_Fixations_in_AOIs",
values_to = "Number")
# remove all NAs
df_aoi_number <- na.omit(df_aoi_number)
# rename values
df_aoi_number <- df_aoi_number %>%
mutate(Number_Of_Fixations_in_AOIs = recode(Number_Of_Fixations_in_AOIs,
Number_of_fixations.Anna = 'StudentA',
Number_of_fixations.Bianca = 'StudentB',
Number_of_fixations.Board_Screen = 'Board_Screen',
`Number_of_fixations.Carl(a)` = 'StudentC',
Number_of_fixations.Classroom_Others = 'Classroom_Others',
Number_of_fixations.Disruptive_Person = 'Disruptive_Person',
Number_of_fixations.Material_Students = 'Material_Students',
Number_of_fixations.Material_Teacher = 'Material_Teacher',
Number_of_fixations.Nametag_Anna = 'NametagA',
Number_of_fixations.Nametag_Bianca = 'NametagB',
`Number_of_fixations.Nametag_Carl(a)` = 'NametagC'))
# plotting number of fixations in AOIs for groups
number_group_plot <-
ggplot(data = df_aoi_number,
mapping = aes(x = Group,
y = Number)) +
# geom_violin(mapping = aes(fill = Group)) +
geom_boxplot(mapping = aes(fill = Group)) +
geom_point(size = 2,
alpha = 0.1,
position = position_jitter(seed = 1,
width = 0.1)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
ggtitle("Number of Fixations in AOIs") +
theme_classic() +
theme(legend.position="none",
axis.text.x = element_text(size = 11),
plot.title = element_text(size = 15, face = "bold"))
number_group_plot
# plotting number of fixations in all AOIs
number_plot <-
ggplot(data = df_aoi_number,
mapping = aes(x = Group,
y = Number)) +
geom_boxplot(mapping = aes(fill = Group)) +
# geom_violin(mapping = aes(fill = Group)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
facet_wrap(vars(Number_Of_Fixations_in_AOIs),
nrow = 1, strip.position = "bottom") +
ggtitle("Number of Fixations in AOIs") +
theme_classic() +
theme(
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
strip.text.x = element_text(size = 6,
angle = 90),
plot.title = element_text(size = 15, face = "bold"))
number_plot
# plotting number of fixations in all AOIs
number_plot <-
ggplot(data = df_aoi_number,
mapping = aes(x = Group,
y = Number)) +
geom_boxplot(mapping = aes(fill = Group)) +
# geom_violin(mapping = aes(fill = Group)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
facet_wrap(vars(Number_Of_Fixations_in_AOIs),
nrow = 1, strip.position = "bottom") +
ggtitle("Number of Fixations in AOIs") +
theme_classic() +
theme(
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
strip.text.x = element_text(size = 6,
angle = 90),
plot.title = element_text(size = 15, face = "bold"))
number_plot
# plotting number of fixations in all AOIs
number_plot <-
df_aoi %>%
mutate(TOI = factor(TOI,
levels = c("Chatting_with_neighbour","Whispering",
"Heckling","Snipping_with_fingers",
"Drumming_with_hands","Clicking_pen",
"Head_on_table","Looking_at_phone",
"Drawing"
),
labels = c("Chatting with neighbour","Whispering",
"Heckling","Snipping with fingers",
"Drumming with hands","Clicking pen",
"Head on table","Looking at phone",
"Drawing"
)
)
) %>%
ggplot(data = df_aoi_number,
mapping = aes(x = Group,
y = Number)) +
geom_boxplot(mapping = aes(fill = Group)) +
# geom_violin(mapping = aes(fill = Group)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
facet_wrap(vars(Number_Of_Fixations_in_AOIs),
nrow = 1, strip.position = "bottom") +
ggtitle("Number of Fixations in AOIs") +
theme_classic() +
theme(
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
strip.text.x = element_text(size = 6,
angle = 90),
plot.title = element_text(size = 15, face = "bold"))
number_plot
View(df_aoi)
# plotting number of fixations in all AOIs
number_plot <-
ggplot(data = df_aoi_number,
mapping = aes(x = Group,
y = Number)) +
geom_boxplot(mapping = aes(fill = Group)) +
# geom_violin(mapping = aes(fill = Group)) +
ylim(0,25) +
labs(x ="") +
scale_fill_brewer(palette = "Set1") +
facet_wrap(vars(Number_Of_Fixations_in_AOIs),
nrow = 1, strip.position = "bottom") +
ggtitle("Number of Fixations in AOIs") +
theme_classic() +
theme(
axis.text.x = element_blank(),
axis.ticks.x = element_blank(),
strip.text.x = element_text(size = 6,
angle = 90),
plot.title = element_text(size = 15, face = "bold"))
number_plot
View(df_aoi_number)
# rename values
df_aoi_number <- df_aoi %>%
mutate(Number_Of_Fixations_in_AOIs = factor(Number_Of_Fixations_in_AOIs,
levels = c("Number_of_fixations.Disruptive_Person",
"Number_of_fixations.Anna",
"Number_of_fixations.Bianca",
"`Number_of_fixations.Carl(a)`",
"Number_of_fixations.Nametag_Anna",
"Number_of_fixations.Nametag_Bianca",
"`Number_of_fixations.Nametag_Carl(a)`",
"Number_of_fixations.Board_Screen",
"Number_of_fixations.Material_Teacher",
"Number_of_fixations.Material_Students",
"Number_of_fixations.Classroom_Others"
),
labels = c("Disruptive Person",
"StudentA",
"Studentb",
"StudentC",
"NametagA",
"NametagB",
"NametagC",
"Board/Screen",
"Teacher Material",
"Student Material",
"Classroom/Others"
)
))
########################### NUMBER OF FIXATIONS IN AOIS ######################
# selecting relevant columns
df_aoi_number <- df_aoi %>%
select(Group,
TOI,
starts_with("Number_of_fixations"))
# changing format from wide to long
df_aoi_number <- df_aoi_number %>% pivot_longer(
cols = contains("Number_of_fixations"),
names_to = "Number_Of_Fixations_in_AOIs",
values_to = "Number")
# remove all NAs
df_aoi_number <- na.omit(df_aoi_number)
# rename values
df_aoi_number <- df_aoi %>%
mutate(Number_Of_Fixations_in_AOIs = factor(Number_Of_Fixations_in_AOIs,
levels = c("Number_of_fixations.Disruptive_Person",
"Number_of_fixations.Anna",
"Number_of_fixations.Bianca",
"`Number_of_fixations.Carl(a)`",
"Number_of_fixations.Nametag_Anna",
"Number_of_fixations.Nametag_Bianca",
"`Number_of_fixations.Nametag_Carl(a)`",
"Number_of_fixations.Board_Screen",
"Number_of_fixations.Material_Teacher",
"Number_of_fixations.Material_Students",
"Number_of_fixations.Classroom_Others"
),
labels = c("Disruptive Person",
"StudentA",
"Studentb",
"StudentC",
"NametagA",
"NametagB",
"NametagC",
"Board/Screen",
"Teacher Material",
"Student Material",
"Classroom/Others"
)
))
View(df_aoi_number)
# rename values
df_aoi_number <- df_aoi_number %>%
mutate(Number_Of_Fixations_in_AOIs = factor(Number_Of_Fixations_in_AOIs,
levels = c("Number_of_fixations.Disruptive_Person",
"Number_of_fixations.Anna",
"Number_of_fixations.Bianca",
"`Number_of_fixations.Carl(a)`",
"Number_of_fixations.Nametag_Anna",
"Number_of_fixations.Nametag_Bianca",
"`Number_of_fixations.Nametag_Carl(a)`",
"Number_of_fixations.Board_Screen",
"Number_of_fixations.Material_Teacher",
"Number_of_fixations.Material_Students",
"Number_of_fixations.Classroom_Others"
),
labels = c("Disruptive Person",
"StudentA",
"Studentb",
"StudentC",
"NametagA",
"NametagB",
"NametagC",
"Board/Screen",
"Teacher Material",
"Student Material",
"Classroom/Others"
)
))
View(df_aoi_number)
########################### NUMBER OF FIXATIONS IN AOIS ######################
# selecting relevant columns
df_aoi_number <- df_aoi %>%
select(Group,
TOI,
starts_with("Number_of_fixations"))
# changing format from wide to long
df_aoi_number <- df_aoi_number %>% pivot_longer(
cols = contains("Number_of_fixations"),
names_to = "Number_Of_Fixations_in_AOIs",
values_to = "Number")
View(df_aoi_number)
>>>>>>> Stashed changes
=======
=======
>>>>>>> parent of 8821409 (main datei angepasst)
mutate(Average_duration_stud = round(Stud_duration_fixation/Stud_number_fixation,
digits = 0),
Group = as_factor(Group)) -> df_aoi_stud
# mean & SD average duration on AOI Students
# novices
mean_number_stud_nov <-
df_aoi_stud %>%
filter(Group == "Novice" ) %>%
pull(Stud_number_fixation) %>%
mean() %>%
round(., digits = 0)
sd_number_stud_nov <-
df_aoi_stud %>%
filter(Group == "Novice") %>%
pull(Stud_number_fixation) %>%
sd() %>%
round(., digits = 0)
# experts
mean_number_stud_exp <-
df_aoi_stud %>%
filter(Group == "Expert") %>%
pull(Stud_number_fixation) %>%
mean() %>%
round(., digits = 0)
sd_number_stud_exp <-
df_aoi_stud %>%
filter(Group == "Expert") %>%
pull(Stud_number_fixation) %>%
sd() %>%
round(., digits = 0)
# plotting average duration on AOI Students
df_aoi_stud %>%
ggplot(mapping = aes(x = Group,
y = Stud_number_fixation)) +
geom_boxplot(mapping = aes(fill = Group),
outlier.shape = NA) +
geom_point(size = 2,
alpha = 0.7,
position = position_jitter(seed = 1,
width = 0.1,
height = 0.1)) +
# scale_x_discrete(labels = paste0(c("Novice\n","Expert\n"),
#                                  "M = ", c(mean_dur_nov, mean_dur_exp),
#                                  "; SD = ", c(sd_dur_nov, sd_dur_exp)
#                                  )
#                  ) +
labs(x ="",
y = "Number") +
scale_fill_brewer(palette  = "RdBu") +
ggtitle("Number of Fixations\non AOI `Students`") +
theme_cowplot() +
theme(legend.position="none",
axis.text.x = element_text(size = 34),
axis.text.y = element_text(size = 18),
axis.title = element_text(size = 34),
plot.title = element_text(size = 35,
face = "bold")
) -> plot_number_stud
# saving plot average plot
ggsave(plot = plot_number_stud,
filename = "plots/plot_number_stud.svg",
height = 8,
width = 8,
units = "in")
# AVERAGE DURATION OF FIXATIONS on AOI Students
# t-test for expertise differences
t.test(x = df_aoi_stud$Stud_number_fixation[df_aoi_stud$Group == "Expert"],
y = df_aoi_stud$Stud_number_fixation[df_aoi_stud$Group == "Novice"])
# AVERAGE DURATION OF FIXATIONS on AOI Students
# effect size for expertise differences
d_number_stud <- CohenD(x = df_aoi_stud$Stud_number_fixation[df_aoi_stud$Group == "Expert"],
y = df_aoi_stud$Stud_number_fixation[df_aoi_stud$Group == "Novice"],
na.rm = TRUE)
df_aoi %>%
filter(TOI == "Lesson") %>%
select (Group,
"Number_of_fixations.Disruptive_Person") %>%
mutate(Group = as_factor(Group)) -> df_aoi_disrup
# mean & SD average duration AOI Disruptive person
# novices
mean_number_disrup_nov <-
df_aoi_disrup %>%
filter(Group == "Novice") %>%
pull(Number_of_fixations.Disruptive_Person) %>%
mean() %>%
round(., digits = 0)
sd_number_disrup_nov <-
df_aoi_disrup %>%
filter(Group == "Novice") %>%
pull(Number_of_fixations.Disruptive_Person) %>%
sd() %>%
round(., digits = 0)
# experts
mean_number_disrup_exp <-
df_aoi_disrup %>%
filter(Group == "Expert") %>%
pull(Number_of_fixations.Disruptive_Person) %>%
mean() %>%
round(., digits = 0)
sd_number_disrup_exp <-
df_aoi_disrup %>%
filter(Group == "Expert") %>%
pull(Number_of_fixations.Disruptive_Person) %>%
sd() %>%
round(., digits = 0)
# plotting average duration on AOI Disruptive person
df_aoi_disrup %>%
ggplot(mapping = aes(x = Group,
y = Number_of_fixations.Disruptive_Person)) +
geom_boxplot(mapping = aes(fill = Group),
outlier.shape = NA) +
geom_point(size = 2,
alpha = 0.7,
position = position_jitter(seed = 1,
width = 0.1,
height = 0.1)) +
# scale_x_discrete(labels = paste0(c("Novice\n","Expert\n"),
#                                  "M = ", c(mean_dur_nov, mean_dur_exp),
#                                  "; SD = ", c(sd_dur_nov, sd_dur_exp)
#                                  )
#                  ) +
labs(x ="",
y = "Number") +
scale_fill_brewer(palette  = "RdBu") +
ggtitle("Number of Fixations\non AOI `Disruptive Person`") +
theme_cowplot() +
theme(legend.position="none",
axis.text.x = element_text(size = 34),
axis.text.y = element_text(size = 18),
axis.title = element_text(size = 34),
plot.title = element_text(size = 35,
face = "bold")
) -> plot_number_disrup
# saving plot average plot
ggsave(plot = plot_number_disrup,
filename = "plots/plot_number_disrup.svg",
height = 8,
width = 8,
units = "in")
# AVERAGE DURATION OF FIXATIONS on AOI disruptive person
# t-test for expertise differences
t.test(x = df_aoi_disrup$Number_of_fixations.Disruptive_Person[df_aoi_disrup$Group == "Expert"],
y = df_aoi_disrup$Number_of_fixations.Disruptive_Person[df_aoi_disrup$Group == "Novice"])
# AVERAGE DURATION OF FIXATIONS
# effect size for expertise differences
d_number_disrup <- CohenD(x = df_aoi_disrup$Number_of_fixations.Disruptive_Person[df_aoi_disrup$Group == "Expert"],
y = df_aoi_disrup$Number_of_fixations.Disruptive_Person[df_aoi_disrup$Group == "Novice"],
na.rm = TRUE)
<<<<<<< HEAD
>>>>>>> parent of 8821409 (main datei angepasst)
=======
>>>>>>> parent of 8821409 (main datei angepasst)
library(needs)
needs(tidyverse,
psych,
moments,
sjPlot,
DescTools,
irr,
readxl,
gridExtra,
<<<<<<< Updated upstream
janitor,
RColorBrewer,
cowplot)
<<<<<<< HEAD
<<<<<<< HEAD
=======
janitor)
# suppress "summarize" info.
# if this line is ommitted, each table using the summarize function will be accompanied with a warning from the console
options(dplyr.summarise.inform = FALSE)
# read in expert data
expert_aoi1 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_202_203_204_interval_complete.tsv",
locale = locale(decimal_mark = ","))
expert_aoi2 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_205_interval_complete.tsv",
locale = locale(decimal_mark = ","))
expert_aoi3 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_206_interval_complete.tsv",
locale = locale(decimal_mark = ","))
expert_aoi4 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_207_interval_complete.tsv",
locale = locale(decimal_mark = ","))
# combine the expert df
expert_aoi <- rbind(expert_aoi1,
expert_aoi2,
expert_aoi3,
expert_aoi4)
# read in novice data
novice_aoi1 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_101_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi2 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_102_103_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi3 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_104_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi4 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_105_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi5 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_106_107_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi6 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_108-111_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi7 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_112_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi8 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_113-115_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi9 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_116_interval_complete.tsv",
locale = locale(decimal_mark = ","))
novice_aoi10 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_117_interval_complete.tsv",
locale = locale(decimal_mark = ","))
# combine the novice df
novice_aoi <- rbind(novice_aoi1,
novice_aoi2,
novice_aoi3,
novice_aoi4,
novice_aoi5,
novice_aoi6,
novice_aoi7,
novice_aoi8,
novice_aoi9,
novice_aoi10)
# combine the both df
df_aoi <- rbind(novice_aoi,
expert_aoi)
# filter relevant rows only for time to first reaction
df_aoi <- df_aoi %>% filter (TOI == "Lesson" |
TOI == "Chatting_with_neighbour"|
TOI == "Clicking_pen"|
TOI == "Drawing"|
TOI == "Drumming_with_hands"|
TOI == "Head_on_table"|
TOI == "Heckling"|
TOI == "Looking_at_phone" |
TOI == "Snipping_with_fingers"|
TOI == "Whispering")
# select relevant columns only for time to first fixation
df_aoi <- df_aoi %>%
select(Participant,
Group,
TOI,
Time_to_first_fixation.Disruptive_Person,
starts_with("Total_duration_of_fixations"),
starts_with("Number_of_fixations"))
# changing milliseconds into seconds
df_aoi$Time_to_first_fixation_seconds.Disruptive_Person <- round(df_aoi$Time_to_first_fixation.Disruptive_Person/1000,
digits = 2)
# selecting relevant columns
df_aoi_totaldur <- df_aoi %>%
select(Group,
TOI,
starts_with("Total_duration_of_fixations"))
# changing format from wide to long
df_aoi_totaldur <- df_aoi_totaldur %>% pivot_longer(
cols = contains("Total_duration"),
names_to = "Total_Durations_Of_Fixations",
values_to = "Milliseconds")
# remove all NAs
df_aoi_totaldur <- na.omit(df_aoi_totaldur)
########################### NUMBER OF FIXATIONS IN AOIS ######################
# selecting relevant columns
df_aoi_number <- df_aoi %>%
select(Group,
TOI,
starts_with("Number_of_fixations"))
# changing format from wide to long
df_aoi_number <- df_aoi_number %>% pivot_longer(
cols = contains("Number_of_fixations"),
names_to = "Number_Of_Fixations_in_AOIs",
values_to = "Number")
# remove all NAs
df_aoi_number <- na.omit(df_aoi_number)
# rename values
df_aoi_number <- df_aoi_number %>%
mutate(Number_Of_Fixations_in_AOIs = factor(Number_Of_Fixations_in_AOIs,
levels = c("Number_of_fixations.Disruptive_Person",
"Number_of_fixations.Anna",
"Number_of_fixations.Bianca",
"`Number_of_fixations.Carl(a)`",
"Number_of_fixations.Nametag_Anna",
"Number_of_fixations.Nametag_Bianca",
"`Number_of_fixations.Nametag_Carl(a)`",
"Number_of_fixations.Board_Screen",
"Number_of_fixations.Material_Teacher",
"Number_of_fixations.Material_Students",
"Number_of_fixations.Classroom_Others"
),
labels = c("Disruptive Person",
"StudentA",
"StudentB",
"StudentC",
"NametagA",
"NametagB",
"NametagC",
"Board/Screen",
"Teacher Material",
"Student Material",
"Classroom/Others"
)
))
View(df_aoi_number)
View(df_aoi_number)
library(needs)
>>>>>>> Stashed changes
needs(tidyverse,
psych,
moments,
sjPlot,
DescTools,
irr,
readxl,
gridExtra,
<<<<<<< Updated upstream
janitor,
RColorBrewer,
cowplot)
=======
>>>>>>> parent of 8821409 (main datei angepasst)
=======
>>>>>>> parent of 8821409 (main datei angepasst)
# suppress "summarize" info.
# if this line is ommitted, each table using the summarize function will be accompanied with a warning from the console
options(dplyr.summarise.inform = FALSE)
# return a character vector with names of .tsv data in data folder
file_names <- list.files(path = "data",
pattern = "interval_complete.tsv")
# read every object names in file_names and save it as a tibble
for (i in file_names) {
work_data <-
read_tsv(file = paste0("data/", i),
locale = locale(decimal_mark = ","))
assign(value = work_data,
x = str_remove(paste0("tib_", i),
pattern = ".tsv"
)
)
}
# Bind every tibble that contains "interval_complete" to a new tible
df_aoi <-
mget(ls(pattern = "interval_complete")) %>%
bind_rows()
# Remove temporary data for a cleaner workspace
rm(list = ls(pattern = "^tib_ProVisio"))
rm(work_data)
rm(file_names)
rm(i)
##################### AVERAGE DURATION ON ALL AOIS ########################
# filter group & total duration & number fixation on all AOIs
df_aoi %>%
filter(TOI == "Lesson") %>%
select (Group,
starts_with("Total_duration_of_fixations"),
starts_with("Number_of_fixations"),
!"Total_duration_of_fixations.Disruptive_Person",
!"Number_of_fixations.Disruptive_Person") %>%
rowwise() %>%
transmute(Group = Group,
Sum_duration_fixation = sum(c_across(starts_with("Total_duration")
),
na.rm = TRUE
),
Sum_number_fixation = sum(c_across(starts_with("Number_of")
),
na.rm = TRUE
)
) %>%
<<<<<<< HEAD
<<<<<<< HEAD
na.omit() %>%
rename("id" = "UI06_05",
"sjt" = "SJT_KF_gek")
# ACTION ALTERNATIVES count
df_alternatives_count <- read_excel("data/coding_action_alternatives.xlsx") %>%
janitor::clean_names() %>%
group_by(id) %>%
# mutate(mean_code = mean(code)) %>%
distinct(count)
# ACTION ALTERNATIVES non-disruptive
df_alternatives_nd <- read_excel("data/coding_action_alternatives.xlsx") %>%
janitor::clean_names() %>%
select(id, code) %>%
filter(code %in% c(1:3)) %>%
group_by(id) %>%
count() %>%
transmute(nd = n)
# merge data frames
# put all data frames into list
df_list <- list(df_sri,
df_sjt,
df_alternatives_count,
df_alternatives_nd)
# merge all data frames in list
main <-
df_list %>% reduce(full_join, by='id') %>%
janitor::clean_names() %>%
select(!event)
# replace NA with 0
main[is.na(main)] <- 0
main$id = ifelse(main$id < 200, "Novice","Expert")
View(main)
=======
janitor)
# suppress "summarize" info.
# if this line is ommitted, each table using the summarize function will be accompanied with a warning from the console
options(dplyr.summarise.inform = FALSE)
# read in expert data
expert_aoi1 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_202_203_204_interval_complete.tsv",
locale = locale(decimal_mark = ","))
expert_aoi2 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_205_interval_complete.tsv",
locale = locale(decimal_mark = ","))
expert_aoi3 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_206_interval_complete.tsv",
locale = locale(decimal_mark = ","))
expert_aoi4 <- read_tsv(file = "data/ProVisioNET_study_glasses_metrics_207_interval_complete.tsv",
locale = locale(decimal_mark = ","))
# combine the expert df
expert_aoi <- rbind(expert_aoi1,
expert_aoi2,
expert_aoi3,
expert_aoi4)
>>>>>>> Stashed changes
=======
=======
>>>>>>> parent of 8821409 (main datei angepasst)
mutate(Average_duration = round(Sum_duration_fixation/Sum_number_fixation,
digits = 0),
Group = as_factor(Group)) -> df_aoi_sum
# mean & SD average duration
# novices
mean_dur_nov <-
df_aoi_sum %>%
filter(Group == "Novice") %>%
pull(Average_duration) %>%
mean() %>%
round(., digits = 0)
sd_dur_nov <-
df_aoi_sum %>%
filter(Group == "Novice") %>%
pull(Average_duration) %>%
sd() %>%
round(., digits = 0)
# experts
mean_dur_exp <-
df_aoi_sum %>%
filter(Group == "Expert") %>%
pull(Average_duration) %>%
mean() %>%
round(., digits = 0)
sd_dur_exp <-
df_aoi_sum %>%
filter(Group == "Expert") %>%
pull(Average_duration) %>%
sd() %>%
round(., digits = 0)
# plotting average duration on ALL AOIS
df_aoi_sum %>%
ggplot(mapping = aes(x = Group,
y = Average_duration)) +
geom_boxplot(mapping = aes(fill = Group),
outlier.shape = NA) +
geom_point(size = 2,
alpha = 0.7,
position = position_jitter(seed = 1,
width = 0.1,
height = 0.1)) +
# scale_x_discrete(labels = paste0(c("Novice\n","Expert\n"),
#                                  "M = ", c(mean_dur_nov, mean_dur_exp),
#                                  "; SD = ", c(sd_dur_nov, sd_dur_exp)
#                                  )
#                  ) +
labs(x ="",
y = "Milliseconds") +
scale_fill_brewer(palette  = "RdBu") +
ggtitle("Average Duration of Fixations on all AOIs") +
theme_cowplot() +
theme(legend.position="none",
axis.text.x = element_text(size = 34),
axis.text.y = element_text(size = 18),
axis.title = element_text(size = 34),
plot.title = element_text(size = 35,
face = "bold")
) -> plot_average_duration_group
# saving plot average plot
ggsave(plot = plot_average_duration_group,
filename = "plots/plot_average_duration_group.svg",
height = 8,
width = 14,
units = "in")
# AVERAGE DURATION OF FIXATIONS on all AOIs
# t-test for expertise differences
t.test(x = df_aoi_sum$Average_duration[df_aoi_sum$Group == "Expert"],
y = df_aoi_sum$Average_duration[df_aoi_sum$Group == "Novice"])
# AVERAGE DURATION OF FIXATIONS on all AOIs
# effect size for expertise differences
d_aver_all <- CohenD(x = df_aoi_sum$Average_duration[df_aoi_sum$Group == "Expert"],
y = df_aoi_sum$Average_duration[df_aoi_sum$Group == "Novice"],
na.rm = TRUE)
##################### AVERAGE DURATION ON AOI STUDENTS ########################
# filter group & total duration & number fixation on AOI Students
df_aoi %>%
filter(TOI == "Lesson") %>%
select (Group,
"Total_duration_of_fixations.Anna",
"Total_duration_of_fixations.Bianca",
"Total_duration_of_fixations.Carl(a)",
"Number_of_fixations.Anna",
"Number_of_fixations.Bianca",
"Number_of_fixations.Carl(a)") %>%
rowwise() %>%
transmute(Group = Group,
Stud_duration_fixation = sum(c_across(starts_with("Total_duration")
),
na.rm = TRUE
),
Stud_number_fixation = sum(c_across(starts_with("Number_of")
),
na.rm = TRUE
)
) %>%
mutate(Average_duration_stud = round(Stud_duration_fixation/Stud_number_fixation,
digits = 0),
Group = as_factor(Group)) -> df_aoi_stud
# mean & SD average duration on AOI Students
# novices
mean_dur_stud_nov <-
df_aoi_stud %>%
filter(Group == "Novice") %>%
pull(Average_duration_stud) %>%
mean() %>%
round(., digits = 0)
sd_dur_stud_nov <-
df_aoi_stud %>%
filter(Group == "Novice") %>%
pull(Average_duration_stud) %>%
sd() %>%
round(., digits = 0)
# experts
mean_dur_stud_exp <-
df_aoi_stud %>%
filter(Group == "Expert") %>%
pull(Average_duration_stud) %>%
mean() %>%
round(., digits = 0)
sd_dur_stud_exp <-
df_aoi_stud %>%
filter(Group == "Expert") %>%
pull(Average_duration_stud) %>%
sd() %>%
round(., digits = 0)
# plotting average duration on AOI Students
df_aoi_stud %>%
ggplot(mapping = aes(x = Group,
y = Average_duration_stud)) +
geom_boxplot(mapping = aes(fill = Group),
outlier.shape = NA) +
geom_point(size = 2,
alpha = 0.7,
position = position_jitter(seed = 1,
width = 0.1,
height = 0.1)) +
# scale_x_discrete(labels = paste0(c("Novice\n","Expert\n"),
#                                  "M = ", c(mean_dur_nov, mean_dur_exp),
#                                  "; SD = ", c(sd_dur_nov, sd_dur_exp)
#                                  )
#                  ) +
labs(x ="",
y = "Milliseconds") +
scale_fill_brewer(palette  = "RdBu") +
ggtitle("Average Duration of Fixations\non AOI `Students`") +
theme_cowplot() +
theme(legend.position="none",
axis.text.x = element_text(size = 34),
axis.text.y = element_text(size = 18),
axis.title = element_text(size = 34),
plot.title = element_text(size = 35,
face = "bold")
) -> plot_average_duration_stud
# saving plot average plot
ggsave(plot = plot_average_duration_stud,
filename = "plots/plot_average_duration_stud.svg",
height = 8,
width = 8,
units = "in")
# AVERAGE DURATION OF FIXATIONS on AOI Students
# t-test for expertise differences
t.test(x = df_aoi_stud$Average_duration_stud[df_aoi_stud$Group == "Expert"],
y = df_aoi_stud$Average_duration_stud[df_aoi_stud$Group == "Novice"])
# AVERAGE DURATION OF FIXATIONS on AOI Students
# effect size for expertise differences
d_aver_stud <- CohenD(x = df_aoi_stud$Average_duration_stud[df_aoi_stud$Group == "Expert"],
y = df_aoi_stud$Average_duration_stud[df_aoi_stud$Group == "Novice"],
na.rm = TRUE)
##################### AVERAGE DURATION ON AOI DISRUPTIVE PERSON ########################
# filter group & total duration & number fixation on AOI Disruptive person
df_aoi %>%
filter(TOI == "Lesson") %>%
select (Group,
"Total_duration_of_fixations.Disruptive_Person",
"Number_of_fixations.Disruptive_Person") %>%
rowwise() %>%
mutate(Average_duration_disrup = round(Total_duration_of_fixations.Disruptive_Person/Number_of_fixations.Disruptive_Person,
digits = 0),
Group = as_factor(Group)) -> df_aoi_disrup
# mean & SD average duration AOI Disruptive person
# novices
mean_dur_disrup_nov <-
df_aoi_disrup %>%
filter(Group == "Novice") %>%
pull(Average_duration_disrup) %>%
mean() %>%
round(., digits = 0)
sd_dur_disrup_nov <-
df_aoi_disrup %>%
filter(Group == "Novice") %>%
pull(Average_duration_disrup) %>%
sd() %>%
round(., digits = 0)
# experts
mean_dur_disrup_exp <-
df_aoi_disrup %>%
filter(Group == "Expert") %>%
pull(Average_duration_disrup) %>%
mean() %>%
round(., digits = 0)
sd_dur_disrup_exp <-
df_aoi_disrup %>%
filter(Group == "Expert") %>%
pull(Average_duration_disrup) %>%
sd() %>%
round(., digits = 0)
# plotting average duration on AOI Disruptive person
df_aoi_disrup %>%
ggplot(mapping = aes(x = Group,
y = Average_duration_disrup)) +
geom_boxplot(mapping = aes(fill = Group),
outlier.shape = NA) +
geom_point(size = 2,
alpha = 0.7,
position = position_jitter(seed = 1,
width = 0.1,
height = 0.1)) +
# scale_x_discrete(labels = paste0(c("Novice\n","Expert\n"),
#                                  "M = ", c(mean_dur_nov, mean_dur_exp),
#                                  "; SD = ", c(sd_dur_nov, sd_dur_exp)
#                                  )
#                  ) +
labs(x ="",
y = "Milliseconds") +
scale_fill_brewer(palette  = "RdBu") +
ggtitle("Average Duration of Fixations\non AOI `Disruptive Person`") +
theme_cowplot() +
theme(legend.position="none",
axis.text.x = element_text(size = 34),
axis.text.y = element_text(size = 18),
axis.title = element_text(size = 34),
plot.title = element_text(size = 35,
face = "bold")
) -> plot_average_duration_disrup
# saving plot average plot
ggsave(plot = plot_average_duration_disrup,
filename = "plots/plot_average_duration_disrup.svg",
height = 8,
width = 8,
units = "in")
# AVERAGE DURATION OF FIXATIONS on AOI disruptive person
# t-test for expertise differences
t.test(x = df_aoi_disrup$Average_duration_disrup[df_aoi_disrup$Group == "Expert"],
y = df_aoi_disrup$Average_duration_disrup[df_aoi_disrup$Group == "Novice"])
# AVERAGE DURATION OF FIXATIONS
# effect size for expertise differences
d_aver_disrup <- CohenD(x = df_aoi_disrup$Average_duration_disrup[df_aoi_disrup$Group == "Expert"],
y = df_aoi_disrup$Average_duration_disrup[df_aoi_disrup$Group == "Novice"],
na.rm = TRUE)
<<<<<<< HEAD
>>>>>>> parent of 8821409 (main datei angepasst)
=======
>>>>>>> parent of 8821409 (main datei angepasst)
