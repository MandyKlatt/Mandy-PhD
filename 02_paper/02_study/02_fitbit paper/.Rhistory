map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ ranef(.)$ID %>%
as_tibble(.,
rownames = "ID"
) %>%
clean_names()
) %>%
bind_rows(.,
.id = "time_span")
View(df_ttest)
View(fit_rr)
summary(fit_rr)
df_regression <-
main %>%
filter(time_span == "pre") %>%
dplyr::select("ID","time","heart_rate_std") %>%
distinct() %>%
mutate(ID = as_factor(ID))
fit_rr <-
lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = df_regression
)
summary(fit_rr)
summary(fit_rr)$coefficients
summary(fit_rr)$coefficients[1,1]
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients[1,1])
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .))
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.))
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$estimates)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$estimate)
summary(fit_rr)$estimates
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients[1,1])
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients)
summary(fit_rr)$coefficients
summary(fit_rr)$coefficients %>% str()
summary(fit_rr)$coefficients[1]
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients[1])
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1])
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_cols(.,
.id = "time_span") %>%
t.test(df_ttest$`(Intercept)`[df_ttest$time_span == "main"],
df_ttest$`(Intercept)`[df_ttest$time_span == "subsequent"],
paired = TRUE)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_cols(.,
.id = "time_span")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span")
?pivot_longer
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything())
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything()) %>%
right_join(y = df_ttest,
by = "time_span")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything())
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[1]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything(),
names_to = "time_span",
values_to = "mean_intercept") %>%
right_join(y = df_ttest,
by = "time_span")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)])
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything())
?pivot_longer
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything(),
names_to = c("mean_intercept","mean_time"),
values_to = " ")
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything(),
names_to = "time_span",
values_to = c("mean_intercept","mean_time"))
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(cols = everything())
?pivot_longer
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
everything(),
names_to = c(".value", "set"),
names_pattern = "(.)(.)"
)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
cols = everything(),
names_to = c("diagnosis", "gender"),
names_pattern = "new_?(.*)_(.)(.*)",
values_to = "count"
)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
cols = everything(),
names_to = c("diagnosis", "gender"),
names_pattern = "new_?(.*)_(.)",
values_to = "count"
)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
cols = everything(),
names_to = c("diagnosis", "gender"),
names_pattern = "new_?(.*)_(.)",
values_to = "count"
)
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
cols = everything(),
names_to = "time_span",
values_to = "mean_value"
)
df_mean <-
tibble(mean_intercept = cache[1:6,],
mean_time = cache[7:12])
cache <-
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
cols = everything(),
names_to = "time_span",
values_to = "mean_value"
)
tibble(mean_intercept = cache[1:6,],
mean_time = cache[7:12])
cache[1:6,]
cache[7:12,]
tibble(mean_intercept = cache[1:6,2],
mean_time = cache[7:12,2],
time_span = cache[1:6,1])
tibble(mean_intercept = cache$mean_value[1:6],
mean_time = cache$mean_value[7:12],
time_span = cache$time_span[1:6])
df_mean <-
tibble(mean_intercept = cache$mean_value[1:6],
mean_time = cache$mean_value[7:12],
time_span = cache$time_span[1:6])
cach1 <-
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ ranef(.)$ID %>%
as_tibble(.,
rownames = "ID"
) %>%
clean_names()
) %>%
bind_rows(.,
.id = "time_span")
cache1 <-
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ ranef(.)$ID %>%
as_tibble(.,
rownames = "ID"
) %>%
clean_names()
) %>%
bind_rows(.,
.id = "time_span")
cache2 <-
main %>%
dplyr::select("ID","time","heart_rate_std","time_span") %>%
distinct() %>%
mutate(ID = as_factor(ID)) %>%
split(.$time_span) %>%
map(~ lmer(formula = heart_rate_std ~ 1 + time + (1 + time | ID),
data = .)) %>%
map(~ summary(.) %>%
.$coefficients %>%
.[c(1,2)]) %>%
bind_rows(.,
.id = "time_span") %>%
pivot_longer(
cols = everything(),
names_to = "time_span",
values_to = "mean_value"
)
tibble(mean_intercept = cache2$mean_value[1:6],
mean_time = cache2$mean_value[7:12],
time_span = cache2$time_span[1:6]) %>%
right_join(x = .,
y = cache1)
df_ttest <-
tibble(mean_intercept = cache2$mean_value[1:6],
mean_time = cache2$mean_value[7:12],
time_span = cache2$time_span[1:6]) %>%
right_join(x = .,
y = cache1) %>%
transmute(time_span,
intercept = mean_intercept + intercept,
time = mean_time + time)
View(df_ttest)
t.test(df_ttest$intercept[df_ttest$time_span == "main"],
df_ttest$intercept[df_ttest$time_span == "subsequent"],
paired = TRUE)
?t.test
